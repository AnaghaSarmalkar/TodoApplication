(()=>{"use strict";var e={7526:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Y});var r=n(9164),o=n(2793),i=n(918),a=n(2125),s=n(5619),l=n(6665),c=n(8833),d=n(1492),u=n(5991),f="ios"===u.default.OS,p="web"===u.default.OS,h="android"===u.default.OS,j=n(5276),g=n(6729),v=n(5853),m=n(8179);function x(e,t){t&&e.setOptions({title:t})}var y=n(8142),b=n(6283),O=n(4467),w=n(3929),P=n(397);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,O.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e){return(0,P.jsx)(w.default,I(I({},e),{},{children:e.children}))}function T(e){var t="Error getting resource: "+e.message;return(0,P.jsx)(L,{children:(0,P.jsx)(b.default,{children:t})})}var k=n(3668),C=k.default.create({header:{display:"flex",fontSize:32,fontWeight:"500"}});function E(e){var t=e.styles,n=void 0===t?C:t,r=e.title;return(0,P.jsx)(b.default,{style:n.header,children:r})}function _(){return(0,P.jsx)(L,{children:(0,P.jsx)(b.default,{children:"Loading . . ."})})}function D(e){var t=e.description;return(0,P.jsx)(b.default,{children:t})}var M,N=k.default.create({container:{display:"flex",alignItems:"center",flexDirection:"column",flex:1,paddingLeft:20,paddingRight:20,paddingTop:20},content:{flex:1},header:{paddingBottom:20},footer:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"space-around",marginBottom:0}});function A(e){var t=e.isLoading,n=e.hasError,r=e.data,o=e.insets,i=e.onNavButtonPress;if(t)return(0,P.jsx)(_,{});if(n)return(0,P.jsx)(T,{message:n.message});if(r&&r.location)return(0,P.jsxs)(L,{style:N.container,children:[p&&(0,P.jsx)(L,{style:N.header,children:(0,P.jsx)(E,{title:r.location.name})}),(0,P.jsx)(L,{style:N.content,children:(0,P.jsx)(D,{description:r.location.description})}),(0,P.jsx)(L,{style:[N.footer,{paddingBottom:f?o.bottom:20}],children:(0,P.jsx)(y.default,{title:"Go back to List page",onPress:i})})]});return(0,P.jsx)(L,{children:(0,P.jsx)(b.default,{children:"Not Found"})})}var B=(0,g.gql)(M||(M=(0,j.default)(["\n  query GetLocation($id: ID!) {\n    location(id: $id) {\n      id\n      name\n      description\n    }\n  }\n"])));function q(e){var t=e.route,n=(0,m.useNavigation)(),r=t.params.id,o=(0,c.useSafeAreaInsets)(),i=(0,v.useQuery)(B,{variables:{id:r}}),a=i.loading,s=i.error,d=i.data;return(0,l.useEffect)(function(e,t){return function(){e&&e.location&&e.location.title&&t()}}(d,(function(){return x(n,d.location.name)})),[d,n]),(0,P.jsx)(A,{isLoading:a,hasError:s,data:d,insets:o,onNavButtonPress:function(){return function(e,t){e.navigate(t)}(n,"TodoList")}})}var z=n(5708),G=k.default.create({container:{display:"flex",flexDirection:"row",alignItems:"center",padding:10},item:{padding:20,marginVertical:8,marginHorizontal:16},name:{fontSize:32}});function F(e){var t=e.item,n=e.onItemPress;return(0,P.jsx)(w.default,{style:G.container,children:(0,P.jsx)(z.default,{style:[G.item],onPress:function(){return n(t.id)},children:(0,P.jsx)(w.default,{children:(0,P.jsx)(b.default,{style:[G.name],children:t.name})})})})}var H=n(932);function Q(e){var t=e.headerComponent,n=e.data,r=e.renderItem;return(0,P.jsx)(w.default,{children:(0,P.jsx)(H.default,{ListHeaderComponent:t,data:n,renderItem:r,keyExtractor:function(e){return e.id}})})}var W,$=k.default.create({container:{flex:1,alignItems:"center",justifyContent:"center"}});function R(e){var t=e.data,n=e.loading,r=e.error,o=e.insets,i=e.onItemPress,a=[$.container,{paddingTop:o.top}];if(n)return(0,P.jsx)(w.default,{style:a,children:(0,P.jsx)(_,{})});if(r)return(0,P.jsx)(w.default,{style:a,children:(0,P.jsx)(T,{message:r.message})});var s=p?(0,P.jsx)(E,{title:"Locations List"}):null;return(0,P.jsx)(w.default,{style:a,children:(0,P.jsx)(Q,{data:t.locations,headerComponent:s,renderItem:function(e){var t=e.item;return(0,P.jsx)(F,{item:t,onItemPress:i})}})})}var V=(0,g.gql)(W||(W=(0,j.default)(["\n  query GetLocationsSimple {\n    locations {\n      id\n      name\n    }\n  }\n"])));function J(){var e=(0,m.useNavigation)(),t=(0,c.useSafeAreaInsets)(),n=(0,v.useQuery)(V),r=n.loading,o=n.error,i=n.data;(0,l.useEffect)((function(){x(e,"Locations")}),[e]);var a=(0,l.useCallback)((function(t){return function(e,t){t&&e.navigate("Todo",{id:t})}(e,t)}),[e]);return(0,P.jsx)(R,{data:i,loading:r,error:o,insets:t,onItemPress:a})}var K=(0,s.default)(),U={prefixes:["http://localhost:19006"],config:{screens:{TodoList:"/",Todo:"/:id"}}},X=new r.ApolloClient({uri:"https://flyby-router-demo.herokuapp.com/",cache:new o.InMemoryCache});function Y(){return(0,P.jsx)(i.ApolloProvider,{client:X,children:(0,P.jsx)(c.SafeAreaProvider,{initialMetrics:d.initialWindowMetrics,children:(0,P.jsx)(a.default,{linking:U,children:(0,P.jsxs)(K.Navigator,{screenOptions:{headerShown:f||h},children:[(0,P.jsx)(K.Screen,{name:"TodoList",component:J}),(0,P.jsx)(K.Screen,{name:"Todo",component:q})]})})})})}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,(()=>{var e=[];n.O=(t,r,o,i)=>{if(!r){var a=1/0;for(d=0;d<e.length;d++){for(var[r,o,i]=e[d],s=!0,l=0;l<r.length;l++)(!1&i||a>=i)&&Object.keys(n.O).every((e=>n.O[e](r[l])))?r.splice(l--,1):(s=!1,i<a&&(a=i));if(s){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[r,o,i]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&o&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(i,a),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={792:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var o,i,[a,s,l]=r,c=0;if(a.some((t=>0!==e[t]))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(l)var d=l(n)}for(t&&t(r);c<a.length;c++)i=a[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(d)},r=self.webpackChunkweb=self.webpackChunkweb||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n.O(void 0,[566],(()=>n(5036)));r=n.O(r)})();
//# sourceMappingURL=main.6444d1ce.js.map